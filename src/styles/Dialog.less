@import 'mixins';

.oo-ui-dialog {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	padding: 1em;
	line-height: 1em;

	/* Fix for strange opacity-related rendering issues.
	   CAUTION: -webkit-backface-visibility: hidden; is EXTREMELY DANGEROUS.
	   If applied to a VE surface directly, it will break selection of
	   FocusableNodes, and in the past it's caused transparent PNGs to
	   render as opaque black images. For some reason applying it to the dialog
	   wrapper in the main document fixes opacity-related behavior in the iframe
	   document, but doesn't break the surface inside the iframe. */
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;

	.oo-ui-window-frame {
		position: fixed;
		top: 1em;
		right: 0;
		bottom: 1em;
		left: 0;
		min-height: 12em;
		margin: auto;
		overflow: hidden;
	}

	&-small .oo-ui-window-frame {
		width: 400px;
		max-height: 230px;
	}

	&-medium .oo-ui-window-frame {
		width: 600px;
		max-height: 460px;
	}

	&-large .oo-ui-window-frame {
		width: 800px;
		max-height: 690px;
	}

	.oo-ui-frame {
		width: 100%;
		height: 100%;
	}

	&-content {
		.oo-ui-window {
			&-head,
			&-body,
			&-foot {
				position: absolute;
				left: 0;
				right: 0;
				overflow: hidden;
				.oo-ui-box-sizing(border-box);
			}

			&-head {
				top: 0;
				height: 3.8em;
				padding: 0.5em;
			}

			&-title {
				line-height: 2.8em;
			}

			&-icon {
				width: 2.4em;
				height: 2.8em;
				line-height: 2.8em;
			}

			&-closeButton {
				float: right;
				margin: 0.25em 0.25em;
			}

			&-body {
				top: 3.8em;
				bottom: 4.8em;
			}

			&-foot {
				bottom: 0;
				height: 4.8em;
				padding: 1em;

				.oo-ui-buttonedElement-framed {
					float: left;
					margin: 0.125em 0.25em;
				}

				.oo-ui-flaggableElement-primary,
				.oo-ui-flaggableElement-constructive,
				.oo-ui-flaggableElement-destructive {
					float: right;
				}
			}
		}

		&-footless {
			.oo-ui-window {
				&-body {
					bottom: 0;
				}

				&-foot {
					display: none;
				}
			}
		}
	}
}
